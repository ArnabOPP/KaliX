(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var t=e.i(71645);let r=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,t.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:n,iconNode:d,...c},m)=>(0,t.createElement)("svg",{ref:m,...s,width:a,height:a,stroke:e,strokeWidth:i?24*Number(l)/Number(a):l,className:r("lucide",o),...c},[...d.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(n)?n:[n]])),l=(e,s)=>{let l=(0,t.forwardRef)(({className:l,...i},o)=>(0,t.createElement)(a,{ref:o,iconNode:s,className:r(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,l),...i}));return l.displayName=`${e}`,l};e.s(["default",()=>l],75254)},89954,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(18566),a=e.i(91432),l=e.i(80778),i=e.i(75254);let o=(0,i.default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),n=(0,i.default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),d=(0,i.default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),c=(0,i.default)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);function m(){let e=(0,s.useRouter)(),{user:i,login:m,isLoading:u}=(0,a.useAuth)(),[x,p]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),[g,y]=(0,r.useState)(""),[b,v]=(0,r.useState)(!1),[N,j]=(0,r.useState)([]),[w,k]=(0,r.useState)(!0),[A,S]=(0,r.useState)("");(0,r.useEffect)(()=>{i&&e.push("/")},[i,e]),(0,r.useEffect)(()=>{(async()=>{try{k(!0),S(""),console.log("[v0] Loading users from CSV...");let e=await (0,l.getAllUsers)();console.log("[v0] Loaded users:",e),0===e.length&&S("⚠️ No users found in Google Sheet. Please add user data with columns: email, password, name, status, contacts"),j(e.map(e=>({email:e.email,name:e.name})))}catch(e){console.error("[v0] Failed to load users:",e),S("Failed to load users from Google Sheet")}finally{k(!1)}})()},[]);let E=async t=>{t.preventDefault(),y(""),v(!0);try{await m(x,h),e.push("/")}catch(e){y(e instanceof Error?e.message:"Login failed")}finally{v(!1)}};return u?(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-primary font-mono text-lg",children:"SYSTEM INITIALIZING..."})}):(0,t.jsxs)("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"fixed inset-0 opacity-3 pointer-events-none",children:(0,t.jsx)("div",{style:{backgroundImage:"linear-gradient(0deg, rgba(0, 217, 255, 0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 217, 255, 0.03) 1px, transparent 1px)",backgroundSize:"60px 60px"},className:"absolute inset-0"})}),(0,t.jsx)("div",{className:"w-full max-w-md relative z-10",children:(0,t.jsxs)("div",{className:"glow-card border rounded-lg p-8 space-y-6",children:[(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-primary tracking-wider",children:"KALI"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground font-mono",children:"SECURE ACCESS TERMINAL"}),(0,t.jsx)("div",{className:"h-px bg-gradient-to-r from-transparent via-primary/50 to-transparent my-4"})]}),(0,t.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-mono font-semibold text-muted-foreground tracking-wider",children:"EMAIL ADDRESS"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n,{className:"absolute left-3 top-3 w-4 h-4 text-primary/50"}),(0,t.jsx)("input",{type:"email",value:x,onChange:e=>p(e.target.value),placeholder:"user@kali.com",className:"w-full pl-10 pr-4 py-2 bg-input border border-border rounded text-foreground placeholder-muted-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/50 transition-all font-mono text-sm",required:!0,disabled:b})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-mono font-semibold text-muted-foreground tracking-wider",children:"PASSWORD"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(o,{className:"absolute left-3 top-3 w-4 h-4 text-primary/50"}),(0,t.jsx)("input",{type:"password",value:h,onChange:e=>f(e.target.value),placeholder:"••••••••",className:"w-full pl-10 pr-4 py-2 bg-input border border-border rounded text-foreground placeholder-muted-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/50 transition-all font-mono text-sm",required:!0,disabled:b})]})]}),g&&(0,t.jsxs)("div",{className:"p-3 bg-destructive/10 border border-destructive/50 rounded flex gap-2 text-xs text-destructive",children:[(0,t.jsx)(d,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),(0,t.jsx)("span",{children:g})]}),(0,t.jsx)("button",{type:"submit",disabled:b,className:"w-full py-2 px-4 bg-primary/20 border border-primary text-primary rounded font-mono font-semibold text-sm tracking-wider hover:bg-primary/30 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 mt-6",children:b?"AUTHENTICATING...":"AUTHENTICATE"})]}),(0,t.jsxs)("div",{className:"pt-4 border-t border-border/50 space-y-3",children:[(0,t.jsx)("div",{className:"flex items-center gap-2 text-xs font-mono text-muted-foreground",children:w?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c,{className:"w-3 h-3 animate-spin text-primary"}),"LOADING DATABASE..."]}):A?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d,{className:"w-3 h-3 text-destructive flex-shrink-0"}),(0,t.jsx)("span",{className:"text-destructive",children:A})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"inline-block w-2 h-2 bg-accent rounded-full"}),"DATABASE CONNECTED"]})}),N.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-xs font-mono text-muted-foreground",children:"AVAILABLE USERS:"}),(0,t.jsx)("div",{className:"space-y-1 text-xs font-mono max-h-32 overflow-y-auto",children:N.map(e=>(0,t.jsxs)("div",{className:"text-primary/70",children:[(0,t.jsxs)("span",{className:"text-muted-foreground",children:[e.name,":"]})," ",e.email]},e.email))})]})]})]})})]})}e.s(["default",()=>m],89954)}]);