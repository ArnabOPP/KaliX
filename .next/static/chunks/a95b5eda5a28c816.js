(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},91432,80778,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let o="https://docs.google.com/spreadsheets/d/e/2PACX-1vSoUrbuhtYLt8rgvqUa50dR1t8xYvrZvIZE0HXP3otUOEKICNi52AaKMs1W_sKcnTEsJlYNnRRcq1Qr/pub?gid=0&single=true&output=csv",a=null,n=0;async function s(){if(a&&Date.now()-n<3e5)return console.log("[v0] Returning cached data"),a;try{console.log("[v0] Fetching CSV from:",o);let e=await fetch(o,{cache:"no-store"});if(!e.ok)throw Error(`Failed to fetch CSV: ${e.statusText}`);let t=await e.text();return console.log("[v0] CSV response length:",t.length),console.log("[v0] First 500 chars:",t.substring(0,500)),a=(function(e){let t=e.trim().split("\n").filter(e=>e.trim().length>0);if(console.log("[v0] CSV lines count:",t.length),console.log("[v0] First line (headers):",t[0]),0===t.length)return console.log("[v0] No data found in CSV"),[];let r=t[0].split(",").map(e=>e.trim().toLowerCase());console.log("[v0] Parsed headers:",r);let o=t.slice(1).map((e,t)=>{let o=e.split(",").map(e=>e.trim()),a={};return r.forEach((e,t)=>{a[e]=o[t]||""}),a.email&&console.log(`[v0] Row ${t+2}: ${a.email}`),a});return console.log("[v0] Total records parsed:",o.length),o})(t).filter(e=>e.email&&e.email.length>0).map(e=>({email:e.email||"",password:e.password||"",name:e.name||"",status:e.status?.toLowerCase()||"offline",phone:e.contact||""})),console.log("[v0] Processed users count:",a.length),console.log("[v0] Processed users:",a),n=Date.now(),a}catch(e){return console.error("[v0] Failed to fetch CSV:",e),[]}}async function l(e){let t=(await s()).find(t=>t.email.toLowerCase()===e.toLowerCase());return console.log("[v0] Finding user:",e,"Found:",!!t),t}async function i(){return s()}e.s(["findUserByEmail",()=>l,"getAllUsers",()=>i],80778);let c=(0,r.createContext)(void 0);function u({children:e}){let[o,a]=(0,r.useState)(null),[n,s]=(0,r.useState)(!0),[u,d]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=localStorage.getItem("kali_user");if(e)try{let t=JSON.parse(e);a(t),f(t.email)}catch{localStorage.removeItem("kali_user")}s(!1)},[]);let f=async e=>{try{let t=await i();console.log("[v0] All users loaded:",t.length),console.log("[v0] Current user email:",e);let r=t.filter(t=>t.email.toLowerCase()!==e.toLowerCase()).map(t=>({id:t.email,userId:e,name:t.name,email:t.email,phone:t.phone,status:t.status?.toLowerCase()||"offline",avatar:t.name.substring(0,2).toUpperCase(),department:"TEAM"}));console.log("[v0] Final contacts:",r),d(r)}catch(e){console.error("[v0] Failed to load contacts:",e),d([])}},m=async(e,t)=>{s(!0);try{await new Promise(e=>setTimeout(e,500));let r=await l(e);if(!r||r.password!==t)throw Error("Invalid email or password");let o={id:e,name:r.name,email:r.email,avatar:r.name.substring(0,2).toUpperCase(),status:r.status};a(o),await f(e),localStorage.setItem("kali_user",JSON.stringify(o))}finally{s(!1)}};return(0,t.jsx)(c.Provider,{value:{user:o,isLoading:n,login:m,logout:()=>{a(null),d([]),localStorage.removeItem("kali_user")},userContacts:u},children:e})}function d(){let e=(0,r.useContext)(c);if(!e)throw Error("useAuth must be used within AuthProvider");return e}e.s(["AuthProvider",()=>u,"useAuth",()=>d],91432)},2355,e=>{"use strict";var t=e.i(47167),r=e.i(71645),o=e.i(18566);function a(){return"undefined"!=typeof window}function n(){return"production"}function s(){return"development"===((a()?window.vam:n())||"production")}function l(e){return RegExp(`/${e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(?=[/?#]|$)`)}function i(e){return(0,r.useEffect)(()=>{var t;e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]),(0,r.useEffect)(()=>{!function(e={debug:!0}){var t;if(!a())return;!function(e="auto"){if("auto"===e){window.vam=n();return}window.vam=e}(e.mode),window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)}),e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend));let r=e.scriptSrc?e.scriptSrc:s()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js";if(document.head.querySelector(`script[src*="${r}"]`))return;let o=document.createElement("script");o.src=r,o.defer=!0,o.dataset.sdkn="@vercel/analytics"+(e.framework?`/${e.framework}`:""),o.dataset.sdkv="1.5.0",e.disableAutoTrack&&(o.dataset.disableAutoTrack="1"),e.endpoint?o.dataset.endpoint=e.endpoint:e.basePath&&(o.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(o.dataset.dsn=e.dsn),o.onerror=()=>{let e=s()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${r}. ${e}`)},s()&&!1===e.debug&&(o.dataset.debug="false"),document.head.appendChild(o)}({framework:e.framework||"react",basePath:e.basePath??function(){if(void 0!==t.default&&void 0!==t.default.env)return t.default.env.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}(),...void 0!==e.route&&{disableAutoTrack:!0},...e})},[]),(0,r.useEffect)(()=>{e.route&&e.path&&function({route:e,path:t}){var r;null==(r=window.va)||r.call(window,"pageview",{route:e,path:t})}({route:e.route,path:e.path})},[e.route,e.path]),null}function c(e){let a,n,s,{route:c,path:u}=(a=(0,o.useParams)(),n=(0,o.useSearchParams)(),s=(0,o.usePathname)(),a?{route:function(e,t){if(!e||!t)return e;let r=e;try{let e=Object.entries(t);for(let[t,o]of e)if(!Array.isArray(o)){let e=l(o);e.test(r)&&(r=r.replace(e,`/[${t}]`))}for(let[t,o]of e)if(Array.isArray(o)){let e=l(o.join("/"));e.test(r)&&(r=r.replace(e,`/[...${t}]`))}return r}catch(t){return e}}(s,Object.keys(a).length?a:Object.fromEntries(n.entries())),path:s}:{route:null,path:s});return r.default.createElement(i,{path:u,route:c,...e,basePath:function(){if(void 0!==t.default&&void 0!==t.default.env)return t.default.env.NEXT_PUBLIC_VERCEL_OBSERVABILITY_BASEPATH}(),framework:"next"})}function u(e){return r.default.createElement(r.Suspense,{fallback:null},r.default.createElement(c,{...e}))}e.s(["Analytics",()=>u])}]);