module.exports=[60350,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(21937),f=a.i(70106);let g=(0,f.default)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),h=(0,f.default)("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),i=(0,f.default)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),j=(0,f.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);function k({isListening:a,setIsListening:c}){let{user:f,logout:k}=(0,e.useAuth)(),l=(0,d.useRouter)();return(0,b.jsx)("header",{className:"border-b border-border sticky top-0 z-40 bg-background/80 backdrop-blur-sm",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i,{className:"w-6 h-6 text-primary animate-pulse"}),(0,b.jsx)("span",{className:"text-xl font-bold text-primary tracking-wider",children:"KALI"})]}),(0,b.jsx)("div",{className:"h-6 w-px bg-border/50"}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground font-mono",children:[f?.name||"SYSTEM"," | v2.4"]})]}),(0,b.jsx)("div",{className:"hidden md:flex items-center gap-6",children:(0,b.jsxs)("div",{className:"text-right text-xs space-y-1",children:[(0,b.jsx)("div",{className:"text-foreground font-mono font-semibold",children:"SYSTEM STATUS"}),(0,b.jsx)("div",{className:"text-primary",children:"ONLINE | SECURE"})]})}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>{c(!a)},className:`p-2 rounded border transition-all duration-300 font-mono text-xs font-semibold tracking-wide ${a?"bg-primary/20 border-primary text-primary shadow-lg shadow-primary/50":"bg-muted border-border hover:border-primary/50 hover:text-primary text-muted-foreground"}`,children:(0,b.jsx)("div",{className:"flex items-center gap-2",children:a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"LISTENING"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"ACTIVATE"})]})})}),(0,b.jsx)("button",{onClick:()=>{k(),l.push("/login")},className:"p-2 rounded border bg-muted border-border hover:border-destructive/50 hover:text-destructive text-muted-foreground transition-all duration-300 font-mono text-xs font-semibold",title:"Logout",children:(0,b.jsx)(j,{className:"w-4 h-4"})})]})]})})})}let l={cyan:{text:"text-primary",bg:"bg-primary/10",bar:"bg-primary"},green:{text:"text-accent",bg:"bg-accent/10",bar:"bg-accent"},blue:{text:"text-blue-400",bg:"bg-blue-400/10",bar:"bg-blue-400"},orange:{text:"text-yellow-500",bg:"bg-yellow-500/10",bar:"bg-yellow-500"},red:{text:"text-destructive",bg:"bg-destructive/10",bar:"bg-destructive"}};function m({label:a,value:c,unit:d,status:e,color:f}){let g=l[f],h=(a.includes("TEMP"),100),i=((a,b)=>{if(a.includes("TEMP")){if(b>80)return"critical";if(b>70)return"warning"}else if(a.includes("CPU")){if(b>85)return"critical";if(b>75)return"warning"}else if(a.includes("GPU")){if(b>80)return"critical";if(b>70)return"warning"}else if(a.includes("MEMORY")){if(b>85)return"critical";if(b>75)return"warning"}return"active"})(a,c);return(0,b.jsx)("div",{className:"glow-card p-4 border rounded-sm",children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs font-mono text-muted-foreground font-semibold tracking-wider",children:a}),(0,b.jsxs)("div",{className:`text-3xl font-bold font-mono mt-1 ${g.text}`,children:[c,(0,b.jsx)("span",{className:"text-lg ml-1 opacity-70",children:d})]})]}),(0,b.jsx)("div",{className:`w-2 h-2 rounded-full ${g.bg} border ${g.text} border-opacity-50`})]}),(0,b.jsx)("div",{className:"w-full h-1.5 bg-muted rounded-sm overflow-hidden border border-border/50",children:(0,b.jsx)("div",{className:`h-full ${g.bar} transition-all duration-500`,style:{width:`${c/h*100}%`}})}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Status:"}),(0,b.jsx)("span",{className:`font-mono font-semibold uppercase tracking-wide ${g.text}`,children:i})]})]})})}function n({systemData:a}){return(0,b.jsxs)("div",{className:"glow-card border p-6 rounded-sm space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-primary font-mono tracking-wider",children:"PERFORMANCE METRICS"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Real-time system analysis"})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:"text-2xl font-mono font-bold text-primary",children:a.time}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Current Time"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"text-xs font-mono text-muted-foreground uppercase tracking-wider font-semibold",children:"CPU Load"}),(0,b.jsxs)("div",{className:"text-3xl font-bold font-mono text-primary",children:[a.cpu,"%"]}),(0,b.jsx)("div",{className:"w-full h-1 bg-muted rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${a.cpu}%`}})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"text-xs font-mono text-muted-foreground uppercase tracking-wider font-semibold",children:"GPU Load"}),(0,b.jsxs)("div",{className:"text-3xl font-bold font-mono text-accent",children:[a.gpu,"%"]}),(0,b.jsx)("div",{className:"w-full h-1 bg-muted rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-accent transition-all duration-500",style:{width:`${a.gpu}%`}})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"text-xs font-mono text-muted-foreground uppercase tracking-wider font-semibold",children:"RAM Usage"}),(0,b.jsxs)("div",{className:"text-3xl font-bold font-mono text-blue-400",children:[a.ram,"%"]}),(0,b.jsx)("div",{className:"w-full h-1 bg-muted rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-blue-400 transition-all duration-500",style:{width:`${a.ram}%`}})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"text-xs font-mono text-muted-foreground uppercase tracking-wider font-semibold",children:"Memory"}),(0,b.jsxs)("div",{className:"text-3xl font-bold font-mono text-yellow-500",children:[a.memory,"%"]}),(0,b.jsx)("div",{className:"w-full h-1 bg-muted rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-yellow-500 transition-all duration-500",style:{width:`${a.memory}%`}})})]})]}),(0,b.jsx)("div",{className:"border-t border-border/50 pt-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs font-mono text-muted-foreground uppercase tracking-wider font-semibold mb-2",children:"Network Upload"}),(0,b.jsxs)("div",{className:"text-2xl font-bold font-mono text-primary",children:[a.networkUp," MB/s"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs font-mono text-muted-foreground uppercase tracking-wider font-semibold mb-2",children:"Network Download"}),(0,b.jsxs)("div",{className:"text-2xl font-bold font-mono text-accent",children:[a.networkDown," MB/s"]})]})]})})]})}function o({systemData:a}){return(0,b.jsxs)("div",{className:"glow-card border p-6 rounded-sm",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-primary font-mono tracking-wider",children:"SYSTEM DIAGNOSTICS"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Real-time performance analysis"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("div",{className:"text-xs font-mono text-muted-foreground uppercase tracking-wider",children:"CPU Analysis"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,b.jsx)("span",{className:"text-sm",children:"Core Usage"}),(0,b.jsxs)("span",{className:"text-primary font-mono font-bold",children:[a.cpu,"%"]})]}),(0,b.jsx)("div",{className:"w-full h-1 bg-muted rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-primary w-3/4"})})]}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground pt-2",children:"8/16 Cores Active"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("div",{className:"text-xs font-mono text-muted-foreground uppercase tracking-wider",children:"GPU Analysis"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,b.jsx)("span",{className:"text-sm",children:"GPU Load"}),(0,b.jsxs)("span",{className:"text-accent font-mono font-bold",children:[a.gpu,"%"]})]}),(0,b.jsx)("div",{className:"w-full h-1 bg-muted rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-accent",style:{width:`${a.gpu}%`}})})]}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground pt-2",children:"NVIDIA RTX 4090"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("div",{className:"text-xs font-mono text-muted-foreground uppercase tracking-wider",children:"Thermal"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,b.jsx)("span",{className:"text-sm",children:"Temp"}),(0,b.jsxs)("span",{className:`font-mono font-bold ${a.temp>75?"text-destructive":"text-accent"}`,children:[a.temp,"Â°C"]})]}),(0,b.jsx)("div",{className:"w-full h-1 bg-muted rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:`h-full ${a.temp>75?"bg-destructive":"bg-accent"}`,style:{width:`${a.temp/100*100}%`}})})]}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground pt-2",children:a.temp>75?"âš ï¸ High":"âœ“ Optimal"})]})]})]})}let p=(0,f.default)("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);function q({isListening:a,systemData:d}){let[e,f]=(0,c.useState)(""),[h,i]=(0,c.useState)("Ready to receive commands..."),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(!1),q=(0,c.useRef)(null),r=(0,c.useRef)(null);(0,c.useEffect)(()=>{if(!a){q.current&&q.current.stop();return}let b=window.SpeechRecognition||window.webkitSpeechRecognition;if(!b)return void i("Speech Recognition API not available in this browser");let c=new b;c.continuous=!1,c.interimResults=!0,c.lang="en-US",c.onstart=()=>{f(""),i("LISTENING FOR COMMANDS...")},c.onresult=a=>{let b="";for(let c=a.resultIndex;c<a.results.length;c++)b+=a.results[c][0].transcript+" ";if(f(b.trim()),a.results[a.results.length-1].isFinal){let a=b.trim();a&&s(a)}},c.onerror=a=>{i(`ERROR: ${a.error?a.error.toUpperCase():"Unknown error"}`)},c.onend=()=>{if(a)try{c.start()}catch(a){console.log("[v0] Recognition already started")}},q.current=c;try{c.start()}catch(a){console.log("[v0] Recognition start error:",a)}return()=>{try{c.stop()}catch(a){console.log("[v0] Recognition stop error:",a)}}},[a]);let s=async a=>{o(!0),i("PROCESSING THROUGH SECURITY PROTOCOLS...");try{let b=(await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:`User command in cybersecurity interface: "${a}". Current system stats: CPU ${d.cpu}%, GPU ${d.gpu}%, RAM ${d.ram}%, Temp ${d.temp}\xb0C, Network Up ${d.networkUp} Mbps, Down ${d.networkDown} Mbps. User coordinates: ${d.coordinates.lat.toFixed(2)}\xb0N, ${d.coordinates.lon.toFixed(2)}\xb0E. Respond as KALI AI assistant.`})}).then(a=>a.json())).response||"Command acknowledged";i(b),k(b=>[{time:new Date().toLocaleTimeString(),command:a},...b.slice(0,9)]),t(b)}catch(a){console.log("[v0] Processing error:",a),i("ERROR: Unable to process command"),o(!1)}},t=a=>{try{window.speechSynthesis.cancel();let b=new SpeechSynthesisUtterance(a);b.rate=1,b.pitch=1,b.volume=1,b.lang="en-US";let c=window.speechSynthesis.getVoices();c.length>0&&(b.voice=c.find(a=>a.name.includes("Google UK English Male"))||c.find(a=>!a.name.includes("Female"))||c[0]),b.onstart=()=>{m(!0),console.log("[v0] Speech synthesis started for:",a.substring(0,50))},b.onend=()=>{m(!1),o(!1),console.log("[v0] Speech synthesis completed")},b.onerror=a=>{console.log("[v0] Speech synthesis error:",a.error),m(!1),o(!1)},r.current=b,window.speechSynthesis.speak(b)}catch(a){console.log("[v0] Voice synthesis error:",a),o(!1)}};return(0,b.jsxs)("div",{className:"glow-card border border-border/50 p-6 rounded-sm bg-background/40 backdrop-blur",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)(p,{className:"w-5 h-5 text-primary animate-pulse"}),(0,b.jsx)("h2",{className:"text-lg font-bold text-primary font-mono tracking-widest",children:"VOICE COMMAND CENTER"}),(l||n)&&(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-accent animate-pulse"}),(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-accent animate-pulse",style:{animationDelay:"0.2s"}}),(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-accent animate-pulse",style:{animationDelay:"0.4s"}})]})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground font-mono",children:"AI Assistant Communication Protocol"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"border border-border/50 bg-muted/20 p-4 rounded-sm min-h-24 backdrop-blur-sm",children:[(0,b.jsxs)("div",{className:"text-xs font-mono text-muted-foreground uppercase tracking-wider font-semibold mb-2 flex items-center gap-2",children:[(0,b.jsx)(g,{className:"w-3 h-3"}),"INPUT STREAM"]}),(0,b.jsx)("p",{className:`font-mono text-sm leading-relaxed ${e?"text-primary":"text-muted-foreground"}`,children:e||"Awaiting voice input..."})]}),(0,b.jsxs)("div",{className:"border border-border/50 bg-muted/20 p-4 rounded-sm min-h-24 backdrop-blur-sm",children:[(0,b.jsx)("div",{className:"text-xs font-mono text-muted-foreground uppercase tracking-wider font-semibold mb-2",children:"OUTPUT STREAM"}),(0,b.jsxs)("p",{className:"font-mono text-sm leading-relaxed text-accent",children:[h,n&&(0,b.jsx)("span",{className:"animate-pulse",children:"â–ˆ"})]})]})]}),(0,b.jsxs)("div",{className:"border border-border/50 bg-muted/20 p-4 rounded-sm backdrop-blur-sm",children:[(0,b.jsx)("div",{className:"text-xs font-mono text-muted-foreground uppercase tracking-wider font-semibold mb-3",children:"Command History"}),(0,b.jsx)("div",{className:"space-y-2 max-h-56 overflow-y-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-primary/20",children:0===j.length?(0,b.jsxs)("p",{className:"text-muted-foreground text-xs font-mono",children:[">"," No commands processed yet"]}):j.map((a,c)=>(0,b.jsxs)("div",{className:"text-xs border-l border-primary/20 pl-3 py-1",children:[(0,b.jsxs)("div",{className:"text-primary/70 font-mono",children:["[",a.time,"]"]}),(0,b.jsx)("div",{className:"text-foreground font-mono text-primary",children:a.command})]},c))})]})]})]})}function r({systemData:a}){return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"glow-card border p-4 rounded-sm",children:[(0,b.jsx)("div",{className:"text-xs font-mono text-muted-foreground uppercase tracking-wider font-semibold mb-3",children:"System Temperature"}),(0,b.jsx)("div",{className:"text-3xl font-bold font-mono mb-2",children:(0,b.jsxs)("span",{className:a.temp>75?"text-destructive":"text-accent",children:[a.temp,"Â°C"]})}),(0,b.jsx)("div",{className:"w-full h-1 bg-muted rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:`h-full transition-all duration-500 ${a.temp>75?"bg-destructive":"bg-accent"}`,style:{width:`${a.temp/100*100}%`}})}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground mt-2",children:["Status: ",a.temp>75?"âš ï¸ WARNING":"âœ“ NORMAL"]})]}),(0,b.jsxs)("div",{className:"glow-card border p-4 rounded-sm",children:[(0,b.jsx)("div",{className:"text-xs font-mono text-muted-foreground uppercase tracking-wider font-semibold mb-3",children:"Coordinates"}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"font-mono text-sm",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"LAT: "}),(0,b.jsxs)("span",{className:"text-primary",children:[a.coordinates.lat.toFixed(4),"Â°"]})]}),(0,b.jsxs)("div",{className:"font-mono text-sm",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"LON: "}),(0,b.jsxs)("span",{className:"text-accent",children:[a.coordinates.lon.toFixed(4),"Â°"]})]})]})]}),(0,b.jsxs)("div",{className:"glow-card border p-4 rounded-sm",children:[(0,b.jsx)("div",{className:"text-xs font-mono text-muted-foreground uppercase tracking-wider font-semibold mb-3",children:"System Status"}),(0,b.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Encryption:"}),(0,b.jsx)("span",{className:"text-accent",children:"âœ“ ACTIVE"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Firewall:"}),(0,b.jsx)("span",{className:"text-accent",children:"âœ“ ENABLED"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Threat Detection:"}),(0,b.jsx)("span",{className:"text-accent",children:"âœ“ ONLINE"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Network Security:"}),(0,b.jsx)("span",{className:"text-green-400",children:"âœ“ SECURE"})]})]})]})]})}let s=(0,f.default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),t=(0,f.default)("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]),u=(0,f.default)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),v=(0,f.default)("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),w=(0,f.default)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),x=(0,f.default)("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),y=(0,f.default)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),z=(0,f.default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),A=(0,f.default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),B=(0,f.default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);function C(){let{userContacts:a,user:d}=(0,e.useAuth)(),[f,g]=(0,c.useState)("contacts"),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(""),{state:n,startCall:o,endCall:p,toggleAudio:q,toggleVideo:r,startScreenShare:C,stopScreenShare:D,sendMessage:E}=function(a){let b=(0,c.useMemo)(()=>`comm-center-${a}`,[a]),d=(0,c.useRef)(null),e=(0,c.useRef)(null),f=(0,c.useRef)(null),g=(0,c.useRef)(null),h=(0,c.useRef)(null),i=(0,c.useRef)(null),[j,k]=(0,c.useState)({localStream:null,remoteStream:null,inCall:!1,videoOn:!1,audioOn:!0,screenSharing:!1,messages:[]}),l=(0,c.useCallback)(()=>{g.current?.close(),g.current=null,f.current?.getSenders().forEach(a=>a.track?.stop()),f.current?.close(),f.current=null,h.current?.getTracks().forEach(a=>a.stop()),h.current=null,i.current=null,k(a=>({...a,localStream:null,remoteStream:null,inCall:!1,videoOn:!1,screenSharing:!1}))},[]),m=(0,c.useCallback)(()=>{d.current&&e.current===b||(d.current?.close(),d.current=new BroadcastChannel(b),e.current=b,d.current.onmessage=async a=>{let b=a.data;if("offer"===b.type){if(f.current||await n(!1),!f.current)return;await f.current.setRemoteDescription(new RTCSessionDescription(b.sdp));let a=await f.current.createAnswer();await f.current.setLocalDescription(a),d.current?.postMessage({type:"answer",sdp:a})}else if("answer"===b.type){if(!f.current)return;await f.current.setRemoteDescription(new RTCSessionDescription(b.sdp))}else if("candidate"===b.type){if(!f.current)return;try{await f.current.addIceCandidate(new RTCIceCandidate(b.candidate))}catch{}}else"end"===b.type&&l()})},[b,l]),n=(0,c.useCallback)(async a=>{let b=new RTCPeerConnection({iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}]});f.current=b,b.onicecandidate=a=>{a.candidate&&d.current?.postMessage({type:"candidate",candidate:a.candidate.toJSON()})},b.ontrack=a=>{let b=i.current??new MediaStream;i.current=b,a.streams[0]?.getTracks().forEach(a=>b.addTrack(a)),k(a=>({...a,remoteStream:b}))},b.ondatachannel=a=>{g.current=a.channel,g.current.onmessage=a=>{let b=String(a.data);k(a=>({...a,messages:[...a.messages,{id:`${Date.now()}`,sender:"remote",text:b,timestamp:Date.now()}]}))}},a&&(g.current=b.createDataChannel("chat"),g.current.onmessage=a=>{let b=String(a.data);k(a=>({...a,messages:[...a.messages,{id:`${Date.now()}`,sender:"remote",text:b,timestamp:Date.now()}]}))});let c=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0});return h.current=c,k(a=>({...a,localStream:c,videoOn:!0,audioOn:!0})),c.getTracks().forEach(a=>b.addTrack(a,c)),b},[]),o=(0,c.useCallback)(async()=>{m();let a=await n(!0);k(a=>({...a,inCall:!0}));let b=await a.createOffer();await a.setLocalDescription(b),d.current?.postMessage({type:"offer",sdp:b})},[n,m]),p=(0,c.useCallback)(()=>{d.current?.postMessage({type:"end"}),l()},[l]),q=(0,c.useCallback)(()=>{let a=h.current;if(!a)return;let b=!j.audioOn;a.getAudioTracks().forEach(a=>a.enabled=b),k(a=>({...a,audioOn:b}))},[j.audioOn]),r=(0,c.useCallback)(()=>{let a=h.current;if(!a)return;let b=!j.videoOn;a.getVideoTracks().forEach(a=>a.enabled=b),k(a=>({...a,videoOn:b}))},[j.videoOn]),s=(0,c.useCallback)(async()=>{let a=f.current;if(!a)return;let b=(await navigator.mediaDevices.getDisplayMedia({video:!0})).getVideoTracks()[0],c=a.getSenders().find(a=>a.track&&"video"===a.track.kind);c&&c.replaceTrack(b),k(a=>({...a,screenSharing:!0})),b.onended=()=>t()},[]),t=(0,c.useCallback)(()=>{let a=f.current,b=h.current;if(!a||!b)return;let c=b.getVideoTracks()[0],d=a.getSenders().find(a=>a.track&&"video"===a.track.kind);d&&c&&d.replaceTrack(c),k(a=>({...a,screenSharing:!1}))},[]),u=(0,c.useCallback)(a=>{let b=g.current;b&&a.trim()&&(b.send(a),k(b=>({...b,messages:[...b.messages,{id:`${Date.now()}`,sender:"local",text:a,timestamp:Date.now()}]})))},[]);return(0,c.useEffect)(()=>(m(),()=>{d.current?.close(),d.current=null,e.current=null,l()}),[m,l]),{state:j,startCall:o,endCall:p,toggleAudio:q,toggleVideo:r,startScreenShare:s,stopScreenShare:t,sendMessage:u}}((0,c.useMemo)(()=>d&&h?[d.email,h.email].sort().join("|"):"idle",[d,h])),F=(0,c.useRef)(null),G=(0,c.useRef)(null);(0,c.useEffect)(()=>{F.current&&n.localStream&&(F.current.srcObject=n.localStream,F.current.muted=!0,F.current.play().catch(()=>{}))},[n.localStream]),(0,c.useEffect)(()=>{G.current&&n.remoteStream&&(G.current.srcObject=n.remoteStream,G.current.play().catch(()=>{}))},[n.remoteStream]);let H=()=>{l.trim()&&(E(l),m(""))};return(0,b.jsxs)("div",{className:"glow-card border rounded-lg p-4 md:p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-border",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(A,{className:"w-5 h-5 text-primary"}),(0,b.jsx)("h2",{className:"text-lg font-bold text-primary tracking-wider",children:"COMM CENTER"})]}),(0,b.jsxs)("span",{className:"text-xs font-mono text-muted-foreground",children:[a.length," CONTACTS | SECURE"]})]}),(0,b.jsx)("div",{className:"flex gap-2 mb-4 border-b border-border",children:["contacts","chat","call"].map(a=>(0,b.jsx)("button",{onClick:()=>g(a),className:`px-4 py-2 text-xs font-mono font-semibold transition-colors ${f===a?"text-primary border-b-2 border-primary":"text-muted-foreground hover:text-foreground"}`,children:a.toUpperCase()},a))}),"contacts"===f&&(0,b.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:0===a.length?(0,b.jsx)("div",{className:"py-8 text-center text-muted-foreground text-sm font-mono",children:"NO CONTACTS AVAILABLE"}):a.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-secondary/30 border border-border rounded hover:border-primary/50 hover:bg-secondary/50 transition-all group",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded border border-primary/30 flex items-center justify-center bg-primary/10 text-xs font-bold text-primary",children:a.avatar}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"text-sm font-mono font-semibold text-foreground",children:a.name}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(0,b.jsx)("span",{className:`inline-block w-2 h-2 rounded-full mr-1 ${"online"===a.status?"bg-accent":"busy"===a.status?"bg-destructive":"bg-muted-foreground"}`}),a.status.toUpperCase()," | ",a.department]}),a.phone&&(0,b.jsxs)("div",{className:"text-xs text-primary mt-1 font-mono",children:[(0,b.jsx)("span",{className:"text-accent",children:"ðŸ“ž"})," ",a.phone]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)("button",{onClick:()=>{i(a),g("call"),o()},className:"p-1.5 bg-primary/20 border border-primary/50 rounded hover:bg-primary/30 text-primary transition-colors",title:"Voice Call",children:(0,b.jsx)(s,{className:"w-3.5 h-3.5"})}),(0,b.jsx)("button",{onClick:()=>{i(a),g("chat")},className:"p-1.5 bg-accent/20 border border-accent/50 rounded hover:bg-accent/30 text-accent transition-colors",title:"Chat",children:(0,b.jsx)(y,{className:"w-3.5 h-3.5"})})]})]},a.id))}),"chat"===f&&(0,b.jsxs)("div",{className:"flex flex-col h-80",children:[h&&(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4 pb-4 border-b border-border",children:[(0,b.jsx)("div",{className:"w-6 h-6 rounded border border-accent/30 flex items-center justify-center bg-accent/10 text-xs font-bold text-accent",children:h.avatar}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-mono font-semibold text-foreground",children:h.name}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"SECURE MESSAGE CHANNEL"})]})]}),(0,b.jsx)("div",{className:"flex-1 space-y-3 overflow-y-auto mb-4 bg-background/50 p-3 rounded border border-border/50",children:n.messages.map(a=>(0,b.jsx)("div",{className:`flex ${"local"===a.sender?"justify-end":"justify-start"}`,children:(0,b.jsxs)("div",{className:`max-w-xs px-3 py-2 rounded text-xs font-mono ${"local"===a.sender?"bg-primary/20 border border-primary/50 text-foreground":"bg-secondary/50 border border-border text-foreground"}`,children:["local"!==a.sender&&(0,b.jsx)("div",{className:"text-primary/80 text-xs mb-1",children:"REMOTE"}),(0,b.jsx)("div",{children:a.text}),(0,b.jsx)("div",{className:"text-muted-foreground text-xs mt-1 text-right",children:new Date(a.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},a.id))}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"text",value:l,onChange:a=>m(a.target.value),onKeyPress:a=>"Enter"===a.key&&H(),placeholder:"Type message...",className:"flex-1 px-3 py-2 bg-input border border-border rounded text-xs font-mono text-foreground placeholder-muted-foreground focus:outline-none focus:border-primary transition-colors"}),(0,b.jsx)("button",{onClick:H,className:"px-3 py-2 bg-primary/20 border border-primary/50 rounded hover:bg-primary/30 text-primary transition-colors",children:(0,b.jsx)(z,{className:"w-3.5 h-3.5"})})]})]}),"call"===f&&(0,b.jsx)("div",{className:"space-y-4",children:n.inCall&&h?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-secondary/50 border border-primary/30 rounded text-center space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 text-green-400",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,b.jsx)("span",{className:"text-xs font-mono",children:"CALL ACTIVE"})]}),(0,b.jsx)("div",{className:"text-xl font-bold text-primary",children:h.name}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[(0,b.jsx)(B,{className:"w-3 h-3"}),(0,b.jsx)("span",{className:"text-xs font-mono",children:"00:45"})]})]}),n.videoOn&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[(0,b.jsx)("div",{className:"aspect-video bg-black border-2 border-primary/50 rounded overflow-hidden relative",children:(0,b.jsx)("video",{ref:F,className:"w-full h-full object-cover",playsInline:!0})}),n.remoteStream&&(0,b.jsx)("div",{className:"aspect-video bg-black border-2 border-primary/50 rounded overflow-hidden relative",children:(0,b.jsx)("video",{ref:G,className:"w-full h-full object-cover",playsInline:!0})})]}),n.screenSharing&&(0,b.jsxs)("div",{className:"aspect-video bg-black border-2 border-accent/50 rounded flex items-center justify-center overflow-hidden relative",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-accent/5 to-transparent"}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(w,{className:"w-8 h-8 text-accent/50 mx-auto mb-2"}),(0,b.jsx)("span",{className:"text-xs text-accent/50 font-mono",children:"SCREEN SHARING"})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 justify-center flex-wrap",children:[(0,b.jsx)("button",{onClick:()=>q(),className:`p-2 rounded border transition-all ${n.audioOn?"bg-primary/20 border-primary text-primary":"bg-destructive/20 border-destructive text-destructive"}`,title:n.audioOn?"Mute":"Unmute",children:(0,b.jsx)(s,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>r(),className:`p-2 rounded border transition-all ${n.videoOn?"bg-primary/20 border-primary text-primary":"bg-secondary border-border text-muted-foreground"}`,title:n.videoOn?"Stop Video":"Start Video",children:n.videoOn?(0,b.jsx)(u,{className:"w-4 h-4"}):(0,b.jsx)(v,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>n.screenSharing?D():C(),className:`p-2 rounded border transition-all ${n.screenSharing?"bg-accent/20 border-accent text-accent":"bg-secondary border-border text-muted-foreground"}`,title:n.screenSharing?"Stop Sharing":"Share Screen",children:n.screenSharing?(0,b.jsx)(x,{className:"w-4 h-4"}):(0,b.jsx)(w,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>{p(),i(null)},className:"p-2 rounded border bg-destructive/20 border-destructive text-destructive hover:bg-destructive/30 transition-all",title:"End Call",children:(0,b.jsx)(t,{className:"w-4 h-4"})})]})]}):(0,b.jsxs)("div",{className:"py-8 text-center space-y-4",children:[(0,b.jsx)(s,{className:"w-12 h-12 text-muted-foreground mx-auto opacity-50"}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground font-mono",children:"NO ACTIVE CALL"}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Select a contact to initiate communication"})]})})]})}function D(){let a=(0,d.useRouter)(),{user:f,isLoading:g}=(0,e.useAuth)(),[h,i]=(0,c.useState)(!1),[j,l]=(0,c.useState)({time:new Date().toLocaleTimeString(),cpu:35,gpu:22,memory:42,ram:58,temp:62,networkUp:245,networkDown:512,coordinates:{lat:0,lon:0}});return(0,c.useEffect)(()=>{g||f||a.push("/login")},[f,g,a]),(0,c.useEffect)(()=>{let a=setInterval(()=>{l(a=>({...a,time:new Date().toLocaleTimeString()}))},1e3);navigator.geolocation&&navigator.geolocation.getCurrentPosition(a=>{l(b=>({...b,coordinates:{lat:a.coords.latitude,lon:a.coords.longitude}}))},()=>{l(a=>({...a,coordinates:{lat:40.7128,lon:-74.006}}))});let b=setInterval(()=>{l(a=>{let b=(Math.random()-.5)*3,c=Math.max(20,Math.min(80,a.cpu+b)),d=(Math.random()-.5)*2.5,e=Math.max(15,Math.min(70,a.gpu+d)),f=(Math.random()-.5)*1.5,g=Math.max(45,Math.min(75,a.ram+f)),h=(Math.random()-.5)*2,i=Math.max(30,Math.min(70,a.memory+h)),j=(Math.random()-.5)*1,k=Math.max(58,Math.min(82,a.temp+j)),l=(Math.random()-.5)*50,m=Math.max(150,Math.min(450,a.networkUp+l)),n=(Math.random()-.5)*100,o=Math.max(300,Math.min(750,a.networkDown+n));return{...a,cpu:Math.round(10*c)/10,gpu:Math.round(10*e)/10,ram:Math.round(10*g)/10,memory:Math.round(10*i)/10,temp:Math.round(10*k)/10,networkUp:Math.round(m),networkDown:Math.round(o)}})},3e3);return()=>{clearInterval(a),clearInterval(b)}},[]),(0,b.jsxs)("div",{className:"min-h-screen bg-background text-foreground",children:[(0,b.jsx)("div",{className:"fixed inset-0 opacity-3 pointer-events-none",children:(0,b.jsx)("div",{style:{backgroundImage:"linear-gradient(0deg, rgba(0, 217, 255, 0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 217, 255, 0.03) 1px, transparent 1px)",backgroundSize:"60px 60px"},className:"absolute inset-0"})}),(0,b.jsx)(k,{isListening:h,setIsListening:i}),(0,b.jsx)("main",{className:"relative z-10",children:(0,b.jsxs)("div",{className:"p-4 lg:p-6 max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 mb-6",children:[(0,b.jsx)(m,{label:"CPU USAGE",value:j.cpu,unit:"%",status:"active",color:"cyan"}),(0,b.jsx)(m,{label:"GPU USAGE",value:j.gpu,unit:"%",status:"active",color:"green"}),(0,b.jsx)(m,{label:"MEMORY",value:j.memory,unit:"%",status:"active",color:"blue"}),(0,b.jsx)(m,{label:"SYSTEM TEMP",value:j.temp,unit:"Â°C",status:j.temp>75?"warning":"active",color:"orange"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6",children:[(0,b.jsx)("div",{className:"lg:col-span-2",children:(0,b.jsx)(n,{systemData:j})}),(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsx)(r,{systemData:j})})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6",children:(0,b.jsx)(o,{systemData:j})}),(0,b.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6",children:(0,b.jsx)(C,{})}),(0,b.jsx)(q,{isListening:h,systemData:j})]})})]})}a.s(["default",()=>D],60350)}];

//# sourceMappingURL=app_page_tsx_55b2e5ee._.js.map